# ytmpd-status configuration for i3blocks
#
# This file provides example configurations for integrating ytmpd-status
# with i3blocks status bar.

# ==========================================
# Idle Mode (Recommended)
# ==========================================
# Runs continuously, updates automatically on MPD changes.
# Minimal CPU usage (~0.1%) since it uses MPD's idle protocol.
# Best for battery life and responsiveness.

[ytmpd-status]
command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --idle --handle-clicks
interval=persist
signal=10
markup=none

# Click handlers (enabled by --handle-clicks):
# Left click (button 1): Toggle play/pause
# Middle click (button 2): Stop playback
# Scroll up (button 4): Next track
# Scroll down (button 5): Previous track

# Signal refresh:
# pkill -RTMIN+10 ytmpd-status

# ==========================================
# Idle Mode with Custom Display Options
# ==========================================
# Same as above, but with customized display options.

# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --idle --handle-clicks --bar-length 15 --show-next
# interval=persist
# signal=10
# markup=none

# ==========================================
# Idle Mode with Compact Output
# ==========================================
# Minimal display - just icon, artist, and title.

# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --idle --handle-clicks --compact
# interval=persist
# signal=10
# markup=none

# ==========================================
# Idle Mode with Custom Format
# ==========================================
# Use a custom format string for complete control.

# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --idle --handle-clicks --format "{icon} {title} - {artist} {bar}"
# interval=persist
# signal=10
# markup=none

# ==========================================
# Polling Mode (Alternative)
# ==========================================
# Runs every N seconds instead of persistently.
# Higher CPU usage, but simpler (no persistent process).
# Good for testing or if idle mode causes issues.

# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks
# interval=2
# signal=10
# markup=none

# ==========================================
# Polling Mode with Custom Interval
# ==========================================
# Update every 5 seconds to reduce CPU usage.

# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --bar-length 12
# interval=5
# signal=10
# markup=none

# ==========================================
# No Click Handlers (Display Only)
# ==========================================
# If you don't want click handlers, omit --handle-clicks.
# You can still manually refresh with pkill -RTMIN+10.

# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --idle
# interval=persist
# signal=10
# markup=none

# ==========================================
# Custom Colors and Icons
# ==========================================
# Customize colors and icons for different states.

# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --idle --handle-clicks \
#   --color-youtube-playing "#FF0000" \
#   --color-local-playing "#00FF00" \
#   --icon-playing "▶️" \
#   --icon-paused "⏸️"
# interval=persist
# signal=10
# markup=none

# ==========================================
# Verbose Mode (Debugging)
# ==========================================
# Enable verbose output to stderr for debugging.
# View logs with: journalctl --user -f | grep ytmpd-status

# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --idle --handle-clicks --verbose
# interval=persist
# signal=10
# markup=none

# ==========================================
# Configuration Notes
# ==========================================
#
# interval=persist
#   - Tells i3blocks to keep the process running
#   - Required for --idle mode
#   - For polling mode, use interval=N (seconds)
#
# signal=10
#   - Assigns RTMIN+10 signal for manual refresh
#   - Trigger with: pkill -RTMIN+10 ytmpd-status
#   - Use any number 1-30 that doesn't conflict with other blocks
#
# markup=none
#   - ytmpd-status outputs plain text with ANSI color codes
#   - i3blocks uses the third line for color (#RRGGBB format)
#
# Click handlers require --handle-clicks flag
#   - Button numbers come from $BLOCK_BUTTON environment variable
#   - i3blocks passes this automatically when you click the block
#
# Command paths
#   - Use absolute path to ytmpd-status
#   - Or add bin/ directory to PATH
#   - Example: command=$HOME/.local/bin/ytmpd-status
#
# Environment variables (deprecated, use CLI args instead)
#   - YTMPD_STATUS_MAX_LENGTH, YTMPD_STATUS_BAR_LENGTH, etc.
#   - Still work for backward compatibility
#   - CLI arguments override environment variables
#
# Testing configuration
#   - Test manually: /path/to/ytmpd-status --idle --verbose
#   - Reload i3blocks: pkill -SIGUSR1 i3blocks
#   - View block list: ps aux | grep ytmpd-status
#
# Performance
#   - Idle mode: ~0.1% CPU, ~20MB memory
#   - Polling (2s): ~0.5% CPU, minimal memory
#   - Click handlers add negligible overhead
