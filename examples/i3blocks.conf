# ytmpd-status configuration for i3blocks
#
# This file provides example configurations for integrating ytmpd-status
# with i3blocks status bar.

# ==========================================
# Recommended Configuration (Polling Mode)
# ==========================================
# Updates every second with click handlers enabled.
# Shows a 12-character progress bar with fixed length and truncates at 65 chars.

[ytmpd-status]
command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --bar-length 12 --fixed-bar-length --max-length 65
interval=1
signal=10
markup=none

# Click handlers (enabled by --handle-clicks):
#   Left click (button 1): Toggle play/pause
#   Middle click (button 2): Stop playback
#   Scroll up (button 4): Next track
#   Scroll down (button 5): Previous track
#
# Signal refresh (RTMIN+10):
#   pkill -RTMIN+10 ytmpd-status

# ==========================================
# Option Explanations
# ==========================================
#
# Display Options:
#   --max-length N        : Maximum output length before truncation (default: 50)
#   --compact             : Minimal display - just icon, artist, and title
#   --format "..."        : Custom format string (see format placeholders below)
#
# Progress Bar Options:
#   --bar-length N        : Progress bar length in characters (default: 10)
#   --fixed-bar-length    : Keep bar at fixed length or hide entirely (prevents shrinking)
#   --no-show-bar         : Disable progress bar completely
#   --bar-style STYLE     : Style - 'blocks' (█), 'smooth' (▰), 'simple' (#), 'auto' (default)
#
# Playlist Context:
#   --show-next           : Show next track in queue
#   --show-prev           : Show previous track in queue
#   --show-position       : Show position (e.g., "3/15")
#
# Connection:
#   --host HOST           : MPD server host (default: localhost)
#   --port PORT           : MPD server port (default: 6601)
#
# Colors (hex format):
#   --color-youtube-playing "#RRGGBB"  : Color for YouTube playing (default: #FF6B35)
#   --color-youtube-paused "#RRGGBB"   : Color for YouTube paused (default: #FFB84D)
#   --color-local-playing "#RRGGBB"    : Color for local playing (default: #00FF00)
#   --color-local-paused "#RRGGBB"     : Color for local paused (default: #FFFF00)
#   --color-stopped "#RRGGBB"          : Color for stopped (default: #808080)
#
# Icons:
#   --icon-playing "X"    : Icon for playing state (default: ▶)
#   --icon-paused "X"     : Icon for paused state (default: ⏸)
#   --icon-stopped "X"    : Icon for stopped state (default: ⏹)
#
# i3blocks Integration:
#   --handle-clicks       : Enable click handlers (play/pause, next/prev)
#   --verbose             : Debug output to stderr
#
# Format Placeholders (use with --format):
#   {icon}      - Playback status icon (▶, ⏸, ⏹)
#   {artist}    - Track artist
#   {title}     - Track title
#   {album}     - Album name
#   {elapsed}   - Elapsed time (M:SS)
#   {duration}  - Total duration (M:SS)
#   {bar}       - Progress bar
#   {position}  - Current track position in playlist
#   {total}     - Total tracks in playlist
#   {next}      - Next track
#   {prev}      - Previous track

# ==========================================
# Alternative Configurations
# ==========================================

# Compact Mode - Minimal Display
# Just icon, artist, and title without progress bar
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --compact
# interval=1
# signal=10
# markup=none

# Longer Progress Bar with Next Track Info
# Shows 20-character bar and displays upcoming track
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --bar-length 20 --fixed-bar-length --show-next --max-length 80
# interval=1
# signal=10
# markup=none

# No Progress Bar - More Space for Track Names
# Disables progress bar entirely for longer track names
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --no-show-bar --max-length 70
# interval=1
# signal=10
# markup=none

# Playlist Position Display
# Shows current track position in queue (e.g., "3/15")
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --bar-length 12 --show-position --max-length 60
# interval=1
# signal=10
# markup=none

# Custom Format - Full Control
# Define exactly what to display and in what order
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --format "{icon} {title} - {artist} {bar} {elapsed}/{duration}"
# interval=1
# signal=10
# markup=none

# Slower Update Rate - Battery Saving
# Update every 3 seconds instead of every second
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --bar-length 12 --max-length 65
# interval=3
# signal=10
# markup=none

# Custom Colors - Match Your Theme
# Override default colors to match your i3 theme
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks \
#   --bar-length 12 --max-length 65 \
#   --color-youtube-playing "#FF0066" \
#   --color-local-playing "#00FFCC"
# interval=1
# signal=10
# markup=none

# Simple ASCII Style - No Unicode
# Uses simple ASCII characters instead of Unicode blocks
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --bar-length 15 --bar-style simple --max-length 65
# interval=1
# signal=10
# markup=none

# Remote MPD Server
# Connect to MPD on a different host/port
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --handle-clicks --host 192.168.1.100 --port 6600 --bar-length 12 --max-length 65
# interval=1
# signal=10
# markup=none

# Display Only - No Click Handlers
# If you prefer to control MPD with keybindings only
#
# [ytmpd-status]
# command=/home/tunc/Sync/Programs/ytmpd/bin/ytmpd-status --bar-length 12 --fixed-bar-length --max-length 65
# interval=1
# signal=10
# markup=none

# ==========================================
# Installation Notes
# ==========================================
#
# 1. Copy one of the configurations above to your i3blocks config
#    (typically ~/.config/i3blocks/config or /etc/i3blocks.conf)
#
# 2. Update the command path if you installed ytmpd-status elsewhere:
#    - ~/.local/bin/ytmpd-status (if installed with install.sh)
#    - /full/path/to/ytmpd/bin/ytmpd-status (development)
#
# 3. Adjust the signal number (10) if it conflicts with other blocks
#    - Can be any number 1-30
#    - Must match the signal you use with pkill (RTMIN+N)
#
# 4. Reload i3blocks configuration:
#    pkill -SIGUSR1 i3blocks
#
# 5. Test the block manually:
#    /path/to/ytmpd-status --handle-clicks --bar-length 12 --max-length 65
#
# ==========================================
# Troubleshooting
# ==========================================
#
# Block not updating:
#   - Check if ytmpd daemon is running: systemctl --user status ytmpd
#   - Verify MPD is running: mpc status
#   - Check the port number matches your MPD config (default: 6601)
#
# Click handlers not working:
#   - Ensure --handle-clicks flag is present
#   - Check i3blocks version (needs click support)
#   - Try manual command: BLOCK_BUTTON=1 /path/to/ytmpd-status --handle-clicks
#
# Wrong colors displayed:
#   - Verify markup=none is set in i3blocks config
#   - ytmpd-status uses ANSI color codes (third output line)
#
# Module import errors:
#   - The script auto-detects and uses .venv if available
#   - Ensure python-mpd2 is installed in the venv
#
